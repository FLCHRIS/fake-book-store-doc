---
import { Code } from "astro:components";
import Table from "./Table.astro";

const dataTable = {
  title: "Book schema",
  id: "bookSchema",
  tableItems: [
    {
      key: "access_token",
      type: "string",
      description: "Your token.",
    },
  ],
};

const request = `fetch('https://fake-book-store-api.onrender.com/api/auth/login', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    email: 'alice_27@gmail.com',
    password: '8i4nhcbg'
  })
})
  .then(res => res.json())
  .then(data => console.log(data))
  .catch(error => console.log(error))
`;

const codeExample = `{
  "access_token": "Your token"
}
`;
---

<section class="mt-10">
  <div>
    <h2 class="text-white font-medium text-2xl" id="auth">Auth</h2>
    <p class="mt-2 text-neutral-400">
      To be able to edit, delete and add you must log in.
    </p>
    </p>
    <Table
      title={dataTable.title}
      tableItems={dataTable.tableItems}
      id={dataTable.id}
    />
  </div>
  <div class="mt-10">
    <h2 class="text-white font-medium text-2xl" id="login">
      Log in
    </h2>
    <p class="mt-2 text-neutral-400">
      To log in you can access the following endpoint:
      <Code code="/auth/login" lang="http" inline />
    </p>
    <div class="mt-5 overflow-hidden rounded-lg">
      <Code
        code={request}
        lang="js"
        theme="material-theme-ocean"
        wrap
      />
    </div>
    <p class="mt-5 text-white">Response</p>
    <div class="mt-2 overflow-hidden rounded-lg">
      <Code
        code={codeExample}
        lang="json"
        theme="material-theme-ocean"
        wrap
      />
    </div>
  </div>
</section>